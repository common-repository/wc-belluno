(function ($) {
  "use strict";

  $(function () {

	$('#woocommerce_belluno_card_installments_maxium').on("change", function() {
		var max_installment = $(this).val();
		if($("#woocommerce_belluno_card_has_installment_fees")[0].checked){
			for(var i = 1; i <= 12; i++){
				if(i <= max_installment){
					$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().show();
				} else {
					$("#woocommerce_belluno_card_installments_fee_" + i).val(0);
					$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().hide();
				}
			}
		}
	});
	
	$('#woocommerce_belluno_card_has_installment_fees').click(function() {
		var max_installment = $("#woocommerce_belluno_card_installments_maxium").val();
		if ($(this)[0].checked) {
			for(var i = 1; i <= 12; i++){
				if(i <= max_installment){
					$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().show();
				}
			}
			
		} else {
			for(var i = 1; i <= 12; i++){
				$("#woocommerce_belluno_card_installments_fee_" + i).val(0);
				$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().hide();
			}
		}
	});

	var max_installment = $("#woocommerce_belluno_card_installments_maxium").val();	
	if($("#woocommerce_belluno_card_has_installment_fees")[0].checked){
		for(var i = 1; i <= 12; i++){
			if(i <= max_installment){
				$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().show();
			} else {
				$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().hide();
			}
		}
	} else {
		for(var i = 1; i <= 12; i++){
			$("#woocommerce_belluno_card_installments_fee_" + i).parent().parent().parent().hide();
		}
	}
  });
})(jQuery);
