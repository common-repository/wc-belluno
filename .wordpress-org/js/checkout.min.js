jQuery(document).ready(function($){var e={checkCredit:function $(e){if(!(e.length>0)||/[^0-9-\s]+/.test(e))return!1;var r=0,t=0,n=!1;e=e.replace(/\D/g,"");for(var l=e.length-1;l>=0;l--){var _=e.charAt(l),t=parseInt(_,10);n&&(t*=2)>9&&(t-=9),r+=t,n=!n}return r%10==0},getCardFlag:function($){var $=$.replace(/[^0-9]+/g,""),e={elo:/^401178|^401179|^431274|^438935|^451416|^457393|^457631|^457632|^504175|^627780|^636297|^636369|^636368|^(506699|5067[0-6]\d|50677[0-8])|^(50900\d|5090[1-9]\d|509[1-9]\d{2})|^65003[1-3]|^(65003[5-9]|65004\d|65005[0-1])|^(65040[5-9]|6504[1-3]\d)|^(65048[5-9]|65049\d|6505[0-2]\d|65053[0-8])|^(65054[1-9]|6505[5-8]\d|65059[0-8])|^(65070\d|65071[0-8])|^65072[0-7]|^(65090[1-9]|65091\d|650920)|^(65165[2-9]|6516[6-7]\d)|^(65500\d|65501\d)|^(65502[1-9]|6550[3-4]\d|65505[0-8])|^(65092[1-9]|65097[0-8])|^(6509[0-7]\d)/,hipercard:/^(384100|384140|384160|606282|637095|637568|60(?!11))/,amex:/^3[47]/,mastercard:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)|^(223[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,visa:/^4/};for(var r in e)if(e[r].test($))return r;return!1},checkCVV:function($){return 0!=$.length&&(3==$.length||4==$.length)},checkName:function($){return 0!=$.length&&!($.length>50)},checkPhone:function($){return $=($=($=($=$.replace("(","")).replace(")","")).replace("-","")).replace(" ",""),RegExp("^((1[1-9])|([2-9][0-9]))((3[0-9]{3}[0-9]{4})|(9[0-9]{3}[0-9]{5}))$").test($)},checkCPF:function($){if(11!=($=$.replace(/\D/g,"")).toString().length||/^(\d)\1{10}$/.test($))return!1;var e=!0;return[9,10].forEach(function(r){var t,n=0;$.split(/(?=)/).splice(0,r).forEach(function($,e){n+=parseInt($)*(r+2-(e+1))}),(t=(t=n%11)<2?0:11-t)!=$.substring(r,r+1)&&(e=!1)}),e},checkCNPJ:function($){if(!$)return!1;let e="string"==typeof $,r=e||Number.isInteger($)||Array.isArray($);if(!r)return!1;if(e){if($.length>18)return!1;let t=/^\d{14}$/.test($),n=/^\d{2}.\d{3}.\d{3}\/\d{4}-\d{2}$/.test($);if(!t&&!n)return!1}let l=$.toString().match(/\d/g),_=Array.isArray(l)?l.map(Number):[];if(14!==_.length)return!1;let c=[...new Set(_)];if(1===c.length)return!1;let a=$=>{let e=_.slice(0,$),r=$-7,t=0;for(let n=$;n>=1;n--){let l=e[$-n];t+=l*r--,r<2&&(r=9)}let c=11-t%11;return c>9?0:c},i=_.slice(12),d=a(12);if(d!==i[0])return!1;let u=a(13);return u===i[1]},checkExpirationDate:function($){let e=$.split("/");if(null==e)return!1;var r=e[0],t=e[1];return!(r<1||r>12||t<new Date().getFullYear()||t>2050)},checkBirthdayDate:function($){let e=$.split("/");if(null==e)return!1;var r=e[0],t=e[1],n=e[2];return!(n<1945||n>=new Date().getFullYear())&&!(t<1)&&!(t>12)&&!(r<1)&&!(r>31)&&(4!=t&&6!=t&&9!=t&&11!=t||31!=r)&&(2!=t||!(r>29)&&(29!=r||!!(n%4==0&&(n%100!=0||n%400==0))))}},r=function($){return 11===$.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00000"},t={onKeyPress:function($,e,t,n){t.mask(r.apply({},arguments),n)}},n=function($){return $.replace(/\D/g,"").length<12?"000.000.000-000":"00.000.000/0000-00"},l={onKeyPress:function($,e,r,t){r.mask(n.apply({},arguments),t)}};$("#belluno_credit_card_phone").mask(r,t),$("#billing_phone").mask(r,t),$("#billing_client_cpf").mask(n,l),$("#belluno_credit_card_document").mask(n,l),$("#belluno_credit_card_security_code").mask("0000"),$("#billing_postcode").mask("00000-000"),$("#shipping_postcode").mask("00000-000"),$("#belluno_credit_card_number").mask("0000 0000 0000 0000"),$("#belluno_credit_card_expiration").mask("00/0000"),$("#belluno_credit_card_birthdate").mask("00/00/0000"),$("#belluno_credit_card_number").on("input",function(){if(($cardNumber=this.value).length>5){if($("#belluno_credit_card_number").removeAttr("class"),e.checkCredit($cardNumber)){let r;!1!==(r=e.getCardFlag($cardNumber))?($("#belluno_credit_card_number").addClass(r),$("#belluno_credit_card_brand").val(r)):$("#belluno_credit_card_brand").val("")}else $("#belluno_credit_card_brand").val("")}else $("#belluno_credit_card_brand").val("")})});